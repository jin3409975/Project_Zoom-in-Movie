# 🔎 ZnMovie (2023.11.16 ~ 2023.11.24)
    Zoom in Movie
<br>

<br>

<br>

# 1. 팀원 정보 및 업무 분담 내역
<br>

## 1 - 1. 차현철 (팀장)

> **Back**

- **movies** 
  
- **영화 추천 알고리즘** : 사용자의 좋아요를 통한 선호 장르 기반 영화 추천

>  **Front**

- MovieDetail 
  
  서버와의 **데이터 통신**, youtube api를 통해 youtube video 받기
  
  tmdb api를 통한 recommendation, similar movie 데이터 받기
  
  하위 **컴포넌트 간 연결**

- Community(, Comment), Review(, Comment) 서버와의 연결 통한 데이터 통신 및 관련 하위 컴포넌트 연결, 프로필 컴포넌트 연결
  
  - file 컴포넌트에서 사용자 및 유저 데이터 가져오기
  
  - Card 컴포넌트로 swiper 구현

## 1 - 2. 이지은 (팀원)

> **Back**

- **accounts**

  Dj-Rest-Auth 라이브러리를 사용한 login, signup 구현

- **영화 추천 알고리즘** : 사용자의 좋아요를 통한 선호 장르 기반 영화 추천


> **Front**

- accounts
  

- HomeView
  
  Vue router를 활용한 nav 바 구성
  
  Carousel을 통

- CSS
  
  CSS 전반 및 홈페이지 디자인

<br>
<br>
<br>


# 2. 목표 서비스 구현 및 실제 구현 정도 
<br>

## 2 - 1. 목표 서비스

### 1. 영화 추천 서비스

    1) 사용자의 좋아요 기반 같은 장르 추천
    2) 인기도와 평점 순 영화 추천

### 2. 영화 상세 조회

    1) Youtube 관련 영상 재생
    2) 좋아요 및 댓글 기능

### 3. 영화 댓글
   
    1) 각 영화마다 댓글 생성, 조회, 수정, 삭제 가능

### 4. 로그인 상태에 따른 페이지 접근 권한 제한



<br>

## 2 - 2. 실제 구현 정도

### 1. 영화 추천 서비스

    1) 사용자가 좋아요를 누른 경우 : 사용자의 좋아요 기반 같은 장르 추천
    2) 사용자가 좋아요를 누르지 않은 경우 : 인기도 순, 평점 순 영화 추천

### 2. 영화 상세 조회

    1) Youtube 공식 예고편 재생
    2) 영화 정보 조회 가능
    3) 좋아요 버튼
    4) 댓글 작성, 조회, 수정, 삭제 가능
	
### 3. Comment

    1) 각 영화의 상세 페이지에서 댓글 작성, 조회, 수정, 삭제 가능
      >> 댓글 수정, 삭제는 작성자만 가능

### 4. 로그인 상태에 따른 페이지 접근 권한 제한
    
    1) 로그아웃 상태 : 회원가입, 로그인, 메인 페이지 제외 접근 불가
    2) 로그인 상태 : 회원가입 페이지 제외 모든 페이지 접근 가능

<br>
<br>
<br>


# 3. 데이터베이스 모델링 (ERD)
<br>
<br>

![Alt text](ERD.drawio.png)


<br>

# 4. 영화 추천 알고리즘

    1) 사용자가 좋아요를 누른 경우
      좋아요를 누른 영화의 장르를 기반으로 같은 장르의 영화 추천
      - 이미 선택한 장르라면 
        >> 가중치를 더해서 정렬한 후 상위 3개의 장르를 추출해서 영화를 추천
    
    2) 사용자가 좋아요를 누르지 않은 경우
      - 가장 높은 평점을 받은 상위 30개의 영화를 추천
      - 가장 인기있는 상위 30개의 영화를 추천



<br>
<br>
<br>


# 5. 기능 설명
<br>


| 기능               | 기능 설명                                                               |
| ---------------- | ------------------------------------------------------------------- |
| 회원가입, 로그인        | Dj-Rest-Auth 라이브러리의 authtoken을 사용한 인증, 해당 페이지에 인기도 상위 5개 영화의 배경 랜덤 노출                                          |
| 로그아웃             | authtoken 삭제                                                  |
| 사용자 접근 권한            | 로그인 상태에 따른 페이지 접근 제한                                           |
| nav bar             | 원하는 페이지로 이동 가능                                                   |
| 메인 화면             | 인기도 상위 5개 영화의 배경에 제목과 명대사 노출로 사용자의 흥미를 이끌어냄, 인기도 순 상위 30개의 영화 추천                   |
|나만의 영화 추천     | 사용자의 좋아요를 기반으로 같은 장르의 영화 추천
| 카테고리      | nav bar의 드롭다운에서 원하는 장르를 선택하면 해당 장르의 영화를 모아서 제공
| 영화 상세 페이지     | Youtube 공식 예고편, 줄거리, 장르, 좋아요, 댓글 제공                            |
| 좋아요           | 해당 영화의  좋아요 추가 및 삭제 정보를 데이터베이스에 저장 >> 사용자 맞춤 영화 추천에 사용
| 영화 댓글       | 영화 상세 페이지에서 해당 영화에 대한 댓글 조회, 작성, 수정, 삭제 가능 >> 댓글 수정, 삭제는 작성자만 가능
|

<br>
<br>
<br>


# 6. 느낀 점
<br>


## 6 - 1. 차현철, 이지은

이번 프로젝트로 한 학기 동안 배운 것을 활용하여 하나의 완성된 사이트를 만들었고 이 과정을 통해 백엔드 및 프론트엔드의 기반을 다질 수 있었습니다.

> **Back**

- 백엔드 부분에서 dj_rest_auth를 제외한 **대부분을 구현**하였는데 한 학기 동안 <u>복습 및 수업에 성실히</u> 임하여서 큰 어려움 없이 **기본 CRUD 및 Rest API**를 통한 통신을 구현할 수 있었습니다.
- <u>1일 1알고리즘</u> 문제를 꾸준히 풀면서 알고리즘 역량을 키워 **추천 알고리즘도 구현**하였습니다.
- **페이징 기능**이 필요하다고 판단하고 <u>직접 찾아서 학습</u>하여 프로젝트에 적용해보았습니다. <br>
이 과정을 통해 **CRUD와 Rest API 설계에 대한 기반**을 다질 수 있었습니다.  
- 구현하면서 변수에 값이 들어있지 않은 오류나 이로 인해 내부 동작 중 Error가 발생했을 때 **print()를 적재적소에 사용**하여 어떤 변수에 데이터 오류가 있는지 또는 어떤 부분에서 **Error를 발생시키는지 빠르고 명확하게 확인**할 수 있었습니다. <br>
이 부분을 같은 반 동료들과 공유하고 도와주면서 동료들의 코드 내부 동작 흐름에 대한 이해를 빨리 할 수 있었으며 이를 통해 동료의 Error들도 빠르게 잡을 수 있었습니다.

<br>

> **Front**

- **서버, 외부 API 와의 데이터 통신 및 컴포넌트 연결**을 하였습니다.

- vue2를 통해 SPA 구현을 하면서 **동일 컴포넌트를 연속적으로 페이지 렌더링 하지 못하는 오류**가 있었습니다.
  - 특정 영화에 대한 상세 페이지에서 관련 영화들의 포스터를 클릭하면 다시 그 영화 상세 페이지로 이동하도록 구현하고자 했으나 해당 컴포넌트에서 다시 같은 컴포넌트로 렌더링하지 못하는 문제가 발생하였습니다.
  이것에 대해 해결 방법을 고민하였고 **영화 검색 페이지에서 클릭한 영화의 제목을 전달하여 검색 페이지 렌더링 시 미리 제목을 입력시켜주는 방식으로 해당 문제를 해결**하였습니다.
  - 이 과정에서 영화 데이터를 불러와서 렌더링하는 속도와 검색창에 제목을 입력한 상태로 **렌더링하는 속도에 차이가 발생**하여 검색창이 입력값이 없는 상태로 렌더링되어 **해당 방법(우회하는 방식)이 적용이 안되는 것으로 보여졌으나 <br>
  ** <u>console에 log를 작성하면서 확인</u>하여 데이터 통신과 흐름을 파악하였고 속도 차이로 인해 발생한 문제인 것을 파악하여 **동기 처리**를 통해 해당 방법을 적용시켜 해결하였습니다.

- 페이지 렌더링하는 **흐름에 대한 이해**로 데이터 통신에서 **비동기, 동기 처리**를 하여 웹 페이지 렌더링 시 **console 창에 보여지는 Error들을 모두 정리**하였습니다.

- swiper라는 기능을 사용함에 있어 **설정에 따른 오류**가 계속적으로 발생하였고 해당 부분을 해결하기 위해 검색을 통해 찾아보고 다른 것을 적용해보고 하였지만 진척없이 시간이 지체되어 팀원에게 해당 문제를 공유하였고 같은 반 동료들에게도 **공유함으로서 적합한 설정 방식을 찾아서 적용**하였습니다.